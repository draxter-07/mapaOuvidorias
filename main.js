let countries = [["Abecásia", "29.7%", "56.2%"],
                ["Afeganistão", "35.2%", "64.2%"],
                ["África do Sul", "72%", "51.5%"],
                ["Albânia", "31%", "50%"],
                ["Alemanha", "25.5%", "47.2%"],
                ["Andorra", "30.2%", "44.5%"],
                ["Angola", "62%", "49.4%"],
                ["Antígua e Barbuda", "45%", "25%"],
                ["Arábia Saudita", "41%", "58%"],
                ["Argélia", "38.5%", "45%"],
                ["Argentina", "74%", "24.5%"],
                ["Armênia", "31.5%", "57.5%"],
                ["Austrália", "69%", "86.5%"],
                ["Áustria", "27.2%", "48.5%"],
                ["Azerbaijão", "31.5%", "58.3%"],
                ["Bahamas", "40.5%", "19.4%"],
                ["Bahrain", "39.5%" ,"60%"],
                ["Bangladesh", "41%", "72.5%"],
                ["Barbados", "48%", "25.5%"],
                ["Bélgica", "25.7%" ,"45.6%"],
                ["Belize", "45%" ,"15.5%"],
                ["Benim", "49%", "44.7%"],
                ["Bielorrússia", "23.9%", "52%"],
                ["Bolívia", "64.7%", "23.3%"],
                ["Bósnia e Herzegovina", "29.3%", "49.4%"],
                ["Botswana", "67.3%", "51.5%"],
                ["Brasil", "62%", "28%"],
                ["Brunei", "52%", "80.9%"],
                ["Bulgária", "30.1%", "51.5%"],
                ["Burkina Faso", "47.3%", "43.5%"],
                ["Burundi", "56.3%", "53.6%"],
                ["Butão", "38.8%", "72.3%"],
                ["Cabo Verde", "45.5%", "36.5%"],
                ["Camarões", "52%", "47.8%"],
                ["Camboja", "47.5%", "77.6%"],
                ["Canadá", "21%", "16%"],
                ["Catar", "40.5%", "60.2%"],
                ["Cazaquistão", "27%", "64%"],
                ["Chade", "46%", "49.9%"],
                ["Chile", "75%", "22.2%"],
                ["China", "34.5%", "75%"],
                //["Chipre", "34%", "56.6%"],
                //["Colômbia", "55%", "21.8%"],
                //["Comores", "65%", "61%"],
                //["Congo", "58%", "51.5%"],
                //["Coreia do Norte", "30.2%", "85.3%"],
                //["Coreia do Sul", "33%", "86.3%"],
                //["Costa do Marfim", "52.5%", "44.3%"],
                //["Costa Rica", "50.7%", "18.3%"],
                ["Croácia", "28.5%", "48.8%"],
                ["Cuba", "42.2%", "19%"],
                //["Dinamarca", "20%", "49.3%"],
                //["Djibuti", "49.6%", "60.2%"],
                //["Dominica", "45.5%", "25.5%"],
                //["Egito", "39.5%", "55.8%"],
                //["El Salvador", "48%", "16.7%"],
                //["Emirados Árabes Unidos", "41%", "64%"],
                ["Equador", "55.5%", "18.5%"],
                //["Eritreia", "46.8%", "58.7%"],
                ["Escócia", "22.5%", "43.4%"],
                //["Eslováquia", "24.5%", "52.3%"],
                //["Eslovênia", "26.4%", "50.9%"],
                ["Espanha", "31.5%", "43.1%"],
                ["Estados Unidos da América", "32%", "14%"],
                //["Estados Federados da Micronésia", "54%", "93%"],
                //["Estônia", "18.3%", "53.8%"],
                //["Eswatini", "75.3%", "56.5%"],
                //["Etiópia", "51.5%", "59%"],
                //["Fiji", "52%", "95%"],
                //["Finlândia", "15%", "53.7%"],
                ["França", "28%", "45%"],
                //["Gabão", "57.7%", "50%"],
                //["Gâmbia", "48.1%", "40.9%"],
                //["Gana", "52%", "45.8%"],
                //["Geórgia", "29%", "59.7%"],
                //["Granada", "49%", "26%"],
                //["Grécia", "31.2%", "53.2%"],
                //["Guatemala", "47%", "16.5%"],
                //["Guiana", "53.5%", "26.5%"],
                //["Guiné", "50.5%", "42.8%"],
                //["Guiné-Bissau", "49.2%", "41.2%"],
                //["Guiné-Equatorial", "56.5%", "49.6%"],
                //["Haiti", "44.7%", "22.4%"],
                ["Holanda", "24.7%", "45.8%"],
                //["Honduras", "47.3%", "17.8%"],
                //["Hungria", "25.8%", "52.3%"],
                //["Iêmen", "46.8%", "62%"],
                ["Índia", "42%", "69%"],
                //["Indonésia", "60.7%", "83%"],
                ["Inglaterra", "24.6%", "43.9%"],
                //["Irã", "35.5%", "63.5%"],
                //["Iraque", "35%", "59.8%"],
                ["Irlanda", "24.6%", "42%"],
                ["Irlanda do Norte", "23.7%", "42.3%"],
                //["Islândia", "14.65%", "42.2%"],
                //["Israel", "36.8%", "57.3%"],
                ["Itália", "30%", "47.8%"],
                //["Jamaica", "46%", "21%"],
                //["Japão", "33.2%", "89.7%"],
                //["Jordânia", "36.4%", "57.95%"],
                //["Kiribati", "55.5%", "99%"],
                //["Kosovo", "28.9%", "52.8%"],
                //["Kuwait", "37.5%", "61.5%"],
                //["Laos", "44.5%", "79.9%"],
                //["Macedônia do Norte", "29.6%", "53.1%"],
                ["Madagascar", "66%", "58.7%"],
                //["Malásia", "54.5%", "80.1%"],
                //["Malawi", "66%", "57.4%"],
                //["Maldivas", "55%", "70%"],
                //["Mali", "45%", "45.5%"],
                //["Malta", "32.9%", "50.9%"],
                //["Marrocos", "36%", "44%"],
                //["Marshall", "52%", "99%"],
                //["Maurícia", "74%", "64%"],
                //["Mauritânia", "44.5%", "42.6%"],
                ["México", "42%", "11.7%"],
                //["Mianmar", "43.5%", "77.5%"],
                //["Moçambique", "69.5%", "57.6%"],
                //["Moldávia", "25.7%", "55%"],
                ["Mônaco", "29.7%", "46%"],
                //["Mongólia", "26.3%", "77.3%"],
                //["Montenegro", "27.7%", "51.2%"],
                //["Noruega", "17%", "49%"],
                ["Nova Zelândia", "72%", "94%"],
                ["Polônia", "24.7%", "49.5%"],
                ["Portugal", "32%", "41.6%"],
                //["Suécia", "17%", "50.7%"]
                ]
let earth = document.getElementById("earthTerrain")
for(let i = 0; i < countries.length; i++){
    let c = countries[i];
    earth.innerHTML += `<div 
                        class="pin" 
                        style="top: ${c[1]}; left: ${c[2]}"
                        title="${c[0]}"
                        onclick="moveToCountry(event)">
                        </div>`
}

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

async function moveToCountry(e){
    let divToGo = document.getElementById(e.target.title);
    divToGo.scrollIntoView({behavior: "smooth"})
    openCountryContent(e.target.title)
    await sleep(200)
    divToGo.style.border = "3px solid rgb(150, 0, 150)";
    await sleep(1000)
    divToGo.style.border = "3px solid rgb(255, 255, 255)";
}

function openCountryContent(id){
    let divToOpen = document.getElementById(id)
    let nowMaxHeight = divToOpen.style.maxHeight
    if (nowMaxHeight == "" || nowMaxHeight == "50px"){
        divToOpen.style.overflowY = "scroll";
        divToOpen.style.maxHeight = "300px";
    }
    else{
        divToOpen.style.maxHeight = "50px";
        divToOpen.style.overflowY = "hidden";
    }
}